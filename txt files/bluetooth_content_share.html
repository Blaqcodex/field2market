<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/></head><body>&lt;!DOCTYPE html&gt;<br>&lt;html lang="en"&gt;<br>&lt;head&gt;<br>&nbsp; &lt;meta charset="UTF-8"&gt;<br>&nbsp; &lt;meta name="viewport" content="width=device-width, initial-scale=<a href="tel:1.0">1.0</a>"&gt;<br>&nbsp; &lt;title&gt;Add Listing — Field2Market&lt;/title&gt;<br>&nbsp; &lt;link href="https:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp; &lt;style&gt;<br>&nbsp;&nbsp;&nbsp; .form-input { @apply w-full p-2 border border-gray-<a href="tel:300">300</a> rounded focus:ring-2 focus:ring-green-<a href="tel:400">400</a>; }<br>&nbsp; &lt;/style&gt;<br>&nbsp; &lt;script type="importmap"&gt;<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "imports": {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "firebase/app": "<a href="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js">https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js</a>",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "firebase/firestore": "https:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "firebase/storage": "<a href="https://www.gstatic.com/firebasejs/9.6.1/firebase-storage.js">https://www.gstatic.com/firebasejs/9.6.1/firebase-storage.js</a>"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; }<br>&nbsp; &lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body class="bg-gray-50"&gt;<br>&nbsp; &lt;header class="bg-green-<a href="tel:600">600</a> text-white p-4"&gt;<br>&nbsp;&nbsp;&nbsp; &lt;div class="container mx-auto"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h1 class="text-2xl font-bold"&gt;Field2Market — Add Listing&lt;/h1&gt;<br>&nbsp;&nbsp;&nbsp; &lt;/div&gt;<br>&nbsp; &lt;/header&gt;<br><br>&nbsp; &lt;main class="container mx-auto mt-8 max-w-lg"&gt;<br>&nbsp;&nbsp;&nbsp; &lt;form id="listing-form" class="bg-white p-6 rounded shadow"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h2 class="text-xl mb-4"&gt;Sell Your Produce&lt;/h2&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;label class="block mb-2"&gt;Product Name&lt;/label&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;input type="text" id="title" placeholder="e.g., Fresh Tomatoes" class="form-input" required&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;label class="block mb-2 mt-4"&gt;Description&lt;/label&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;textarea id="description" placeholder="Describe quality, quantity..." rows="3" class="form-input" required&gt;&lt;/textarea&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;label class="block mb-2 mt-4"&gt;Price (ZAR)&lt;/label&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;input type="number" id="price" placeholder="<a href="tel:50.00">50.00</a>" step="<a href="tel:0.01">0.01</a>" class="form-input" required&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;label class="block mb-2 mt-4"&gt;Location&lt;/label&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;input type="text" id="location" placeholder="Village or town" class="form-input" required&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;label class="block mb-2 mt-4"&gt;Product Photo&lt;/label&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;input type="file" id="photo" accept="image/*" class="form-input" required&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;button type="submit" class="mt-6 w-full bg-green-<a href="tel:500">500</a> text-white py-2 rounded hover:bg-green-<a href="tel:600">600</a>"&gt;Post Listing&lt;/button&gt;<br>&nbsp;&nbsp;&nbsp; &lt;/form&gt;<br>&nbsp; &lt;/main&gt;<br><br>&nbsp; &lt;script type="module"&gt;<br>&nbsp;&nbsp;&nbsp; import { initializeApp } from 'firebase/app';<br>&nbsp;&nbsp;&nbsp; import { getFirestore, collection, addDoc } from 'firebase/firestore';<br>&nbsp;&nbsp;&nbsp; import { getStorage, ref, uploadBytes, getDownloadURL } from 'firebase/storage';<br><br>&nbsp;&nbsp;&nbsp; const firebaseConfig = {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; apiKey: "YOUR_API_KEY",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; authDomain: "<a href="http://YOUR_PROJECT.firebaseapp.com">YOUR_PROJECT.firebaseapp.com</a>",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; projectId: "YOUR_PROJECT_ID",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; storageBucket: "<a href="http://YOUR_PROJECT.appspot.com">YOUR_PROJECT.appspot.com</a>",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; messagingSenderId: "YOUR_SENDER_ID",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; appId: "YOUR_APP_ID"<br>&nbsp;&nbsp;&nbsp; };<br><br>&nbsp;&nbsp;&nbsp; const app = initializeApp(firebaseConfig);<br>&nbsp;&nbsp;&nbsp; const db = getFirestore(app);<br>&nbsp;&nbsp;&nbsp; const storage = getStorage(app);<br><br>&nbsp;&nbsp;&nbsp; <a href="http://document.getElementById">document.getElementById</a>('listing-form').addEventListener('submit', async (e) =&gt; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="http://e.preventDefault">e.preventDefault</a>();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const title = <a href="http://document.getElementById">document.getElementById</a>('title').value;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const description = <a href="http://document.getElementById">document.getElementById</a>('description').value;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const price = parseFloat(<a href="http://document.getElementById">document.getElementById</a>('price').value);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const location = <a href="http://document.getElementById">document.getElementById</a>('location').value;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const photoFile = <a href="http://document.getElementById">document.getElementById</a>('photo').files[0];<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Upload photo to Firebase Storage<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const storageRef = ref(storage, `products/${<a href="http://photoFile.name">photoFile.name</a>}`);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; await uploadBytes(storageRef, photoFile);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const photoURL = await getDownloadURL(storageRef);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Save listing to Firestore<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; await addDoc(collection(db, "listings"), {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; title,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; description,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; price,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; location,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; imageUrl: photoURL,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; createdAt: new Date()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; alert("Listing posted successfully!");<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="http://window.location.href">window.location.href</a> = "<a href="http://listings.html">listings.html</a>";<br>&nbsp;&nbsp;&nbsp; });<br>&nbsp; &lt;/script&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;</body></html>