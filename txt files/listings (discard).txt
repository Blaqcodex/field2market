<div id="all-listings" class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>

<script type="module">
  import { db, collection, getDocs } from './firebase.js';

  async function loadListings() {
    const querySnapshot = await getDocs(collection(db, "listings"));
    const container = document.getElementById('all-listings');
    container.innerHTML = ''; // clear loading text

    querySnapshot.forEach((doc) => {
      const data = doc.data();
      const card = `
        <div class="bg-white shadow rounded p-4">
          <img src="${data.imageUrl || 'https:                                                                                          
          <h3 class="mt-2 text-xl">${data.title}</h3>
          <p class="text-green-600 font-bold">R${data.price.toFixed(2)}</p>
          <p class="text-sm text-gray-500">${data.location}</p>
          <button class="mt-2 w-full bg-green-500 text-white py-2 rounded">Contact Seller</button>
        </div>
      `;
      container.innerHTML += card;
    });
  }

  loadListings();
</script>

